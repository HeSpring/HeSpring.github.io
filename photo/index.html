<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/web-app-manifest-512x512.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/web-app-manifest-192x192.png">
  <link rel="mask-icon" href="/images/logo-algolia-nebula-blue-full.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-loading-bar.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous" defer></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"hespring.cn","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.23.2","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"vs","dark":"vs"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":"mac"},"fold":{"enable":true,"height":500},"language":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":-1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="&#x2F;* 主分类按钮 *&#x2F; .gallery-filter {   display: flex;   justify-content: center;   flex-wrap: wrap;   gap: 12px;   margin: 20px 0; } .gallery-filter button {   padding: 8px 18px;   border: none;   backgroun">
<meta property="og:type" content="website">
<meta property="og:title" content="影画册">
<meta property="og:url" content="https://hespring.cn/photo/index.html">
<meta property="og:site_name" content="一椿一桓">
<meta property="og:description" content="&#x2F;* 主分类按钮 *&#x2F; .gallery-filter {   display: flex;   justify-content: center;   flex-wrap: wrap;   gap: 12px;   margin: 20px 0; } .gallery-filter button {   padding: 8px 18px;   border: none;   backgroun">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://hespring.cn/photo/$%7Bimg.url%7D">
<meta property="article:published_time" content="2025-07-12T12:45:00.000Z">
<meta property="article:modified_time" content="2025-07-15T16:55:17.297Z">
<meta property="article:author" content="Hespring">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hespring.cn/photo/$%7Bimg.url%7D">


<link rel="canonical" href="https://hespring.cn/photo/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":false,"lang":"zh-CN","comments":true,"permalink":"https://hespring.cn/photo/index.html","path":"photo/index.html","title":"影画册"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>影画册 | 一椿一桓
</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>





  <script src="/js/third-party/pace.js" defer></script>


  


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"fHSXlu2ZcWCy10F8f79CVWdf-gzGzoHsz","app_key":"QMAm3TDKEUweFvFkXmOVC6KD","server_url":"https://fhsxlu2z.lc-cn-n1-shared.com","security":false}</script>
  <script src="/js/third-party/statistics/lean-analytics.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">一椿一桓</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">我的皮囊不好看，我的灵魂很无趣。</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-宅基地"><a href="/" rel="section"><i class="fa solid fa-house-chimney fa-fw"></i>宅基地</a></li><li class="menu-item menu-item-关于我"><a href="/about/" rel="section"><i class="fa solid fa-cat fa-fw"></i>关于我</a></li><li class="menu-item menu-item-魔法签"><a href="/tags/" rel="section"><i class="fa solid fa-wand-magic-sparkles fa-fw"></i>魔法签</a></li><li class="menu-item menu-item-资料库"><a href="/categories/" rel="section"><i class="fa solid fa-boxes-stacked fa-fw"></i>资料库</a></li><li class="menu-item menu-item-时光录"><a href="/archives/" rel="section"><i class="fa solid fa-clock-rotate-left fa-fw"></i>时光录</a></li><li class="menu-item menu-item-影画册"><a href="/photo/" rel="section"><i class="fa solid fa-camera-retro fa-fw"></i>影画册</a></li><li class="menu-item menu-item-轻图书"><a href="/books/" rel="section"><i class="fa solid fa-book-open-reader fa-fw"></i>轻图书</a></li><li class="menu-item menu-item-留言板"><a href="/message/" rel="section"><i class="fa solid fa-comment-dots fa-fw"></i>留言板</a></li><li class="menu-item menu-item-友链喵"><a href="/links/" rel="section"><i class="fa solid fa-link fa-fw"></i>友链喵</a></li><li class="menu-item menu-item-小工具"><a href="/raw-link/" rel="section"><i class="fa solid fa-tools fa-fw"></i>小工具</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hespring"
      src="/images/dg-4.png">
  <p class="site-author-name" itemprop="name">Hespring</p>
  <div class="site-description" itemprop="description">一个闲得无聊的人，不喜欢编程，喜欢折腾。</div>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Hespring" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Hespring" rel="noopener me" target="_blank"><i class="fa-brands fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/contact/" title="E-Mail → &#x2F;contact&#x2F;" rel="noopener me"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner page posts-expand">


    
    
    
    <div class="post-block" lang="zh-CN"><header class="post-header">

<h1 class="post-title" itemprop="name headline">影画册
</h1>

<div class="post-meta-container">
</div>

</header>

      
      
      
      <div class="post-body">
          <style>
/* 主分类按钮 */
.gallery-filter {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 12px;
  margin: 20px 0;
}
.gallery-filter button {
  padding: 8px 18px;
  border: none;
  background-color: rgba(255, 182, 193, 0.6);
  color: #fff;
  border-radius: 16px;
  cursor: pointer;
  font-size: 15px;
  transition: all 0.2s ease;
  box-shadow: 0 4px 12px rgba(255, 192, 203, 0.3);
  backdrop-filter: blur(4px);
  opacity: 0.8;
}
.gallery-filter button:hover {
  opacity: 1;
  background-color: rgba(255, 182, 193, 0.9);
}
.gallery-filter button:active {
  transform: scale(0.92);
  box-shadow: 0 2px 6px rgba(255, 105, 180, 0.4);
}

/* 子分类按钮 */
.gallery-subfilter {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 20px;
}
.gallery-subfilter button {
  padding: 6px 16px;
  border: none;
  background-color: rgba(255, 240, 240, 0.6);
  color: #333;
  border-radius: 12px;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.2s ease;
  box-shadow: 0 2px 6px rgba(255, 182, 193, 0.3);
  backdrop-filter: blur(4px);
}
.gallery-subfilter button:hover {
  background-color: rgba(255, 240, 240, 0.9);
}
.gallery-subfilter button:active {
  transform: scale(0.92);
}

/* 搜索框 */
.gallery-search {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
}
.gallery-search input {
  width: 280px;
  padding: 8px 14px;
  border-radius: 14px;
  border: 1px solid #ddd;
  font-size: 15px;
  outline: none;
  transition: box-shadow 0.3s ease;
  box-shadow: 0 2px 8px rgba(255, 192, 203, 0.2);
  background-color: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(4px);
}
.gallery-search input:focus {
  box-shadow: 0 0 10px rgba(255, 105, 180, 0.4);
}

/* 图片展示区 */
.gallery-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
}
.gallery-item {
  text-align: center;
  width: 220px;
}
.gallery-item img {
  max-width: 100%;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  transition: transform 0.3s ease;
  cursor: zoom-in;
}
.gallery-item img:hover {
  transform: scale(1.05);
}
.gallery-item p {
  margin-top: 5px;
  font-weight: bold;
  color: #333;
}

/* 放大查看 Lightbox */
.lightbox {
  position: fixed;
  top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.8);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}
.lightbox img {
  max-width: 90%;
  max-height: 90%;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(255, 255, 255, 0.4);
  animation: zoomIn 0.3s ease;
}
@keyframes zoomIn {
  from { transform: scale(0.8); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
.lightbox-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%) scale(1);
  font-size: 52px;
  width: 60px; height: 60px;
  background-color: rgba(250, 164, 164, 0.3);
  border: none; border-radius: 30%;
  cursor: pointer;
  opacity: 0.3;
  transition: all 0.2s ease;
  z-index: 1001;
  color: #444;
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
}
.lightbox-arrow.left { left: 40px; }
.lightbox-arrow.right { right: 40px; }
.lightbox-arrow:hover {
  opacity: 1;
  transform: translateY(-50%) scale(1.1);
  background-color: rgba(250, 164, 164, 0.85);
  color: #000;
}
.lightbox-arrow:active {
  transform: translateY(-50%) scale(0.95);
  background-color: rgba(250, 164, 164, 1);
}

/* 分页按钮 */
.page-btn {
  margin: 0 6px;
  padding: 6px 12px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
  background-color: #f0f0f0;
  transition: all 0.2s ease;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}
.page-btn:hover {
  transform: scale(1.08);
  background-color: #ffe4ec;
}
.page-btn:active {
  transform: scale(0.95);
  background-color: #ffc1d2;
}
</style>
<!-- 分类按钮 -->
<div class="gallery-filter">
  <button onclick="filterGallery('all')">全部</button>
  <button onclick="filterGallery('Galgame')">Galgame</button>
  <button onclick="filterGallery('二游')">二游</button>
  <button onclick="filterGallery('动漫')">动漫</button>
  <button onclick="filterGallery('风景')">风景</button>
  <button onclick="filterGallery('插图')">插图</button>
</div>
<!-- 子分类按钮 -->
<div class="gallery-subfilter" id="subFilter" style="display: none;">  
  <button onclick="filterByTag('all')">全部</button>
  <button onclick="filterByTag('婚礼')">婚礼</button>
  <button onclick="filterByTag('亲吻')">亲吻</button>
</div>
<!-- 搜索框 -->
<div class="gallery-search">
  <input type="text" id="searchInput" placeholder="输入图片名称..." onkeyup="searchGallery()" />
</div>
<!-- 图片展示 -->
<div class="gallery-grid" id="gallery"></div>
<!-- Lightbox -->
<div class="lightbox" id="lightbox" onclick="closeLightbox()">
  <button class="lightbox-arrow left" onclick="event.stopPropagation(); showPrevImage()">←</button>
  <img id="lightbox-img" src="" alt="preview">
  <button class="lightbox-arrow right" onclick="event.stopPropagation(); showNextImage()">→</button>
</div>
<!-- 分页器 -->
<div class="gallery-pagination" style="text-align:center; margin-top:20px;" id="pagination"></div>
<script>
const images = [
  { name: "想要传达给你的爱恋", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/新堂彩音1.png?raw=true" },
  { name: "近月少女的礼仪", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/%E8%BF%91%E6%9C%88%E5%B0%91%E5%A5%B3%E7%9A%84%E7%A4%BC%E4%BB%AA-%E6%A8%B1%E5%B0%8F%E8%B7%AF%E9%9C%B2%E5%A8%9C1.jpg?raw=true" },
  { name: "rewrite", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/Rewrite.jpg?raw=true" },
  { name: "9-nine-天色天歌天籁音", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/9-nine-新海天.jpg?raw=true" },
  { name: "不败世界与终焉之花", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/不败世界与终焉之花-莲.jpg?raw=true" },
  { name: "樱之诗", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/樱之诗.jpg?raw=true" },
  { name: "阿罗娜", category: "二游", tags: ["蔚蓝档案"], url: "https://github.com/HeSpring/picgo/blob/main/阿罗娜.jpg?raw=true" },
  { name: "突然之间发现我已恋上你", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/%E7%AA%81%E7%84%B6%E4%B9%8B%E9%97%B4%E5%8F%91%E7%8E%B0%E6%88%91%E5%B7%B2%E6%81%8B%E4%B8%8A%E4%BD%A0-%E5%85%BB%E8%80%81%E7%BA%BA.jpg?raw=true" },
  { name: "五色浮影绽放于花之海洋", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/五色浮影绽放于花之海洋-药师凉子.jpg?raw=true" },
  { name: "纯白交响曲", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/纯白交响曲-瓜生樱乃.jpg?raw=true" },
  { name: "实妹相伴的大泉君", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/实妹相伴的大泉君.jpg?raw=true" },
  { name: "因为妹妹太受欢迎了糟糕了", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/因为妹妹太受欢迎了糟糕了-浅坂爱莉.jpg?raw=true" },
  { name: "新娘太好找了我很方", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/新娘太好找了我很方-高宫菜菜华.jpg?raw=true" },
  { name: "杀恋~悠久流传的恋之歌", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/%E6%9D%80%E6%81%8B-%E5%B7%9D%E5%B2%9B%E7%9B%B4.jpg?raw=true" },
  { name: "杀恋~悠久流传的恋之歌", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/%E6%9D%80%E6%81%8B-%E5%B7%9D%E5%B2%9B%E7%9B%B4-2.jpg?raw=true" },
  { name: "杀恋~悠久流传的恋之歌", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/%E6%9D%80%E6%81%8B-%E5%B7%9D%E5%B2%9B%E7%9B%B4-3.jpg?raw=true" },
  { name: "杀恋~悠久流传的恋之歌", category: "Galgame", tags: ["亲吻"], url: "https://github.com/HeSpring/picgo/blob/main/%E6%9D%80%E6%81%8B-%E7%99%BD%E7%BE%BD%E6%BF%91%E6%82%A0.jpg?raw=true" },
  { name: "晴霁之后，定是菜花盛开的好天气", category: "Galgame", tags: ["婚纱"], url: "https://github.com/HeSpring/picgo/blob/main/%E6%99%B4%E8%8F%9C%E8%8A%B1-%E8%8F%9C%E4%B9%83%E8%8A%B1.jpg?raw=true" },
  { name: "因为妹妹太受欢迎了糟糕了", category: "Galgame", tags: ["亲吻"], url: "https://github.com/HeSpring/picgo/blob/main/%E5%9B%A0%E4%B8%BA%E5%A6%B9%E5%A6%B9%E5%A4%AA%E5%8F%97%E6%AC%A2%E8%BF%8E%E4%BA%86%E7%B3%9F%E7%B3%95%E4%BA%86-%E5%90%88%E7%85%A7.jpg?raw=true" },
  { name: "星辰恋曲的白色永恒", category: "Galgame", tags: ["亲吻"], url: "https://github.com/HeSpring/picgo/blob/main/%E6%98%9F%E8%BE%B0%E6%81%8B%E6%9B%B2%E7%9A%84%E7%99%BD%E8%89%B2%E6%B0%B8%E6%81%92-%E8%90%A4%E9%93%83%E9%9F%B3.jpg?raw=true" },
  { name: "星辰恋曲的白色永恒", category: "Galgame", tags: [], url: "https://github.com/HeSpring/picgo/blob/main/%E6%98%9F%E8%BE%B0%E6%81%8B%E6%9B%B2%E7%9A%84%E7%99%BD%E8%89%B2%E6%B0%B8%E6%81%92-%E9%9B%AA%E9%9B%AA.jpg?raw=true" },
  // { name: "", category: "", tags: [], url: "" },
  // { name: "", category: "", tags: [], url: "" },
  // { name: "", category: "", tags: [], url: "" },
  // { name: "", category: "", tags: [], url: "" },
  // { name: "", category: "", tags: [], url: "" },
  // { name: "", category: "", tags: [], url: "" },
  // { name: "", category: "", tags: [], url: "" },
  // 更多图片...
];

let currentCategory = "all";
let currentTag = "all";
let currentItems = images;
let currentPage = 1;
let currentPreviewIndex = 0;
const ITEMS_PER_PAGE = 9;

const gallery = document.getElementById("gallery");
const pagination = document.getElementById("pagination");
const lightbox = document.getElementById("lightbox");
const lightboxImg = document.getElementById("lightbox-img");

// 点击分类按钮
function filterGallery(category) {
  currentCategory = category;
  currentTag = "all";

  const subFilter = document.getElementById("subFilter");

  // 定义每个主分类对应的子标签
  const subTagsMap = {
    "Galgame": ["婚纱", "亲吻"],
    "动漫": ["日常", "偶像", "演出"],
    "风景": ["城市", "自然", "人物"],
    "二游": ["蔚蓝档案", "原神"],
  };

  // 若有对应子分类，更新按钮；否则隐藏
  if (subTagsMap[category]) {
    const tags = subTagsMap[category];
    subFilter.innerHTML = `<button onclick="filterByTag('all')">全部</button>` +
      tags.map(tag => `<button onclick="filterByTag('${tag}')">${tag}</button>`).join('');
    subFilter.style.display = "flex";
  } else {
    subFilter.style.display = "none";
  }

  filterAndDisplay();
}

function filterByTag(tag) {
  currentTag = tag;
  filterAndDisplay();
}

function filterAndDisplay() {
  currentItems = images.filter(img => {
    const matchCategory = currentCategory === "all" || img.category === currentCategory;
    const matchTag = currentTag === "all" || (img.tags && img.tags.includes(currentTag));
    return matchCategory && matchTag;
  });
  currentPage = 1;
  displayGalleryPage(currentPage, currentItems);
}

function displayGalleryPage(page, items) {
  gallery.innerHTML = "";
  const start = (page - 1) * ITEMS_PER_PAGE;
  const end = start + ITEMS_PER_PAGE;
  const pageItems = items.slice(start, end);
  pageItems.forEach(img => {
    gallery.innerHTML += `
      <div class="gallery-item" data-category="${img.category}">
        <img src="${img.url}" alt="${img.name}" onclick="openLightbox('${img.url}')">
        <p>${img.name}</p>
      </div>`;
  });
  updatePagination(items.length, page);
}

function updatePagination(totalItems, currentPage) {
  const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);
  pagination.innerHTML = "";
  for (let i = 1; i <= totalPages; i++) {
    const btn = document.createElement("button");
    btn.innerText = i;
    btn.className = "page-btn";
    if (i === currentPage) {
      btn.style.backgroundColor = "#ffb6c1";
      btn.style.color = "#fff";
    }
    btn.onclick = () => {
      currentPage = i;
      displayGalleryPage(currentPage, currentItems);
    };
    pagination.appendChild(btn);
  }
}

function searchGallery() {
  const query = document.getElementById("searchInput").value.toLowerCase();
  currentItems = images.filter(img =>
    img.name.toLowerCase().includes(query) &&
    (currentCategory === "all" || img.category === currentCategory) &&
    (currentTag === "all" || img.tags?.includes(currentTag))
  );
  currentPage = 1;
  displayGalleryPage(currentPage, currentItems);
}

function openLightbox(url) {
  currentPreviewIndex = currentItems.findIndex(img => img.url === url);
  lightboxImg.src = url;
  lightbox.style.display = "flex";
}

function closeLightbox() {
  lightbox.style.display = "none";
  lightboxImg.src = "";
}

function showPrevImage() {
  if (currentPreviewIndex > 0) {
    currentPreviewIndex--;
    lightboxImg.src = currentItems[currentPreviewIndex].url;
  }
}
function showNextImage() {
  if (currentPreviewIndex < currentItems.length - 1) {
    currentPreviewIndex++;
    lightboxImg.src = currentItems[currentPreviewIndex].url;
  }
}

// 初始化
displayGalleryPage(currentPage, currentItems);
</script>

      </div>
      
      
      
    </div>

    
    


</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Hespring</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">22k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">1:13</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
